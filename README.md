REST API microservice using Java/Kotlin and Spring Boot.

This API will expose 3 endpoints:

1. An endpoint which will return the current sunlight's Kelvin color temperature at given latitude and longitude coordinates.
This will take as input two numeric parameters: latitude and longitude and will output a single numeric value, the color temperature (a value between 2700 and 6000).
2. An endpoint which will return a short poem generated by ChatGPT fitting a theme based on the sun's current position (sunrise, daylight, sunset, moonlight) at given latitude and longitude coordinates.
This will take as input two numeric parameters: latitude and longitude and will output a single string value, the poem generated by ChatGPT.
Here are some examples:
   - üåÖ Sunrise
     ```
     In the stillness of the dawn's embrace,
     A symphony of colors begins to trace.
     The horizon blushes with hues untold,
     As whispers of morning unfold.
     ...
   - üéë Moonlight
     ```
     In the velvet cloak of night, a silver ballet,
     The moonlight pirouettes, casting dreams astray.
     A cosmic dancer in the celestial play,
     Brushing darkness with a luminous array.
     ...
3. An endpoint which will list all of the previous requests and responses sent to the API.
This endpoint will not have any input parameters, and will output a list of objects, each containing: request latitude and longitude, request timestamp and the response that was returned to the user.

API used is : https://sunrise-sunset.org/api

## ‚òëÔ∏è Requirements

- Java (earlier version is preferred)
- Maven (earlier version is preferred)
- MongoDB  
  - I am using MongoDB Compass to view the data
- Git
- Postman (or any API platforms) -*optional but preferred*-

## üõ† How to run 

There are 2 methods: 
   - Github Cloning
   - Executable Jar File

Pre-requisites (Ensure the following is installed in your machine, along with environment variables required)
   - Java (earlier version is preferred)
   - Maven (earlier version is preferred)
   - MongoDB 
      - I am using MongoDB Compass to view the data
   - Git
   - Postman (or any API platforms) -*optional but preferred*-

**Github Cloning Method**

Step 1
- Clone the repository from your local terminal (eg: cmd, powershell) inside any folder
     - ``` cd C:\Users\Project ```
     - ``` git clone https://github.com/Umbrella-Tech-Solutions/Coding-Challenge-Jeciel.git ```
       
Step 2
- Navigate to the project directory 
     - eg. ``` cd C:\Users\Projects\Coding-Challenge-Jeciel ```

Step 3
- Run the following maven commands
     - ``` mvn clean install ```
     - ``` mvn spring-boot:run ```

Step 4
- The application should be running now, and API is available to test. The API runs on your localhost on server port 8080 (http://localhost:8080)
- Ways to test API is by running it on your local web browser (eg. Google, Firefox) or a preferred API platform (eg. Postman)
- See "How to Test" section below

**Executing Jar File Method**

Step 1
- Download the ```umbrella_challenge_jeciel.jar``` from the Github repository

Step 2 
- Open a local terminal (eg. cmd, powershell) and navigate to the folder where the jar file is
   - eg. ```cd C:\Users\Projects```

Step 3
-Run the jar file using the following java command
   - ```java -jar umbrella_challenge_jeciel.jar```

Step 4
- The application should be running now, and API is available to test. The API runs on your localhost on server port 8080 (http://localhost:8080)
- Ways to test API is by running it on your local web browser (eg. Google, Firefox) or a preferred API platform (eg. Postman)
- See "How to Test" section below

## :tulip: How to Test
- Application runs on ```http://localhost:8080/jeciel```
   - MongoDB connection  runs on  ```mongodb://localhost:27017```
- The endpoints for the api are as follows (ensure parameters latitude and longitude are input)
   - /jeciel/kelvin
   - /jeciel/poem
   - /jeciel/history 

**Example inputs and outputs (using Postman)** 
   - ``` http://localhost:8080/jeciel/kelvin?latitude=36.7201600&longitude=-4.4203400 ```
     ![endpoint1](https://github.com/Umbrella-Tech-Solutions/Coding-Challenge-Jeciel/assets/72226022/ed5dca25-29e8-46be-8310-e56f1c426060)

   - ``` http://localhost:8080/jeciel/poem?latitude=36.7201600&longitude=-4.4203400 ```
     ![endpoint2](https://github.com/Umbrella-Tech-Solutions/Coding-Challenge-Jeciel/assets/72226022/9a8788fc-177e-4f5c-bb76-e2355933124a)

   - ``` http://localhost:8080/jeciel/history ``` (ensure you have already made requests to the API)
     ![endpoint3](https://github.com/Umbrella-Tech-Solutions/Coding-Challenge-Jeciel/assets/72226022/b68aff2f-9f1a-4177-b27f-bf5abe8c92ca)

   - inside MongoDB Compass, you will see a new database called "challenge_history" and inside is a collection called "request_responses"
   - where you will see the list of previous requests and responses to the API
     ![mongo](https://github.com/Umbrella-Tech-Solutions/Coding-Challenge-Jeciel/assets/72226022/33d7bbdd-972c-47fc-b2a2-d29b0be1ca50)


**NOTES**
- OpenAI runs on model gpt3.5-turbo, updated API Key into new one (old one was revoked)
- I have included a dockerfile in an attempt to dockerize the application. (MongoDB connection does not work currently, as it is a work in progress from me)
- Application does not contain any front-end, so testing on API platforms is preferred

## ‚≠ê About the project

- Project Build
   - Java Version : 17
   - Maven Project
- Dependencies
   - Spring Web
   - Spring Data MongoDB
   - Spring Boot DevTools
- Libraries
   - Lombok
- IDE Used
   - Eclipse


‚ú® **Thank you!** ‚ú®
